#!/usr/bin/env bash

# Managed by Homebrew
no_update="\
basemap
matplotlib
numpy
pillow
pygame
scapy
scipy
"

test "$1" = '-3' && pyversion=3

cmd="python$pyversion -m pip"

_a=${no_update::-1}
_b=${_a//$'\n'/\\|}

$cmd list \
  --outdated \
  --format=legacy \
  | grep -iv $_b \
  | awk '{print $1}' \
  | xargs $cmd install --upgrade
